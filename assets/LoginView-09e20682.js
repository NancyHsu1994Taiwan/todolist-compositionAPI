import{r,o as p,c as _,a,w as b,b as s,u as t,d as g}from"./index-38b2bcea.js";const k={class:"sm:w-[304px] w-full mx-auto"},w=s("h2",{class:"title-2 mb-8"},"最實用的線上代辦事項服務",-1),h={class:"mb-4"},f=s("label",{for:"email",class:"mb-1"},"Email",-1),V={class:"mb-4"},x=s("label",{for:"password",class:"mb-1"},"密碼",-1),y={__name:"LoginView",setup(E){let e={password:"",email:"",token:"",nickname:""};function c(){g.post("/users/sign_in",{user:{email:e.email,password:e.password}}).then(o=>{console.log(o),e.token=o.headers.authorization,e.nickname=o.data.nickname,localStorage.setItem("userToken",e.token),localStorage.setItem("userNickname",e.nickname),o.data.message=="登入成功"?location.href="./todolist.html":alert("登入失敗，若尚未註冊請前往註冊頁面註冊")}).catch(o=>{console.log(o)})}function d(){location.href="./signup"}return(o,l)=>{const i=r("VField"),m=r("ErrorMessage"),u=r("VForm");return p(),_("div",k,[w,a(u,null,{default:b(()=>[s("div",h,[f,a(i,{id:"email",name:"email",label:"email",type:"text",placeholder:"請輸入Email",rules:"required|email",modelValue:t(e).email,"onUpdate:modelValue":l[0]||(l[0]=n=>t(e).email=n)},null,8,["modelValue"]),a(m,{name:"email",as:"p",class:"errorMessage"})]),s("div",V,[x,a(i,{id:"password",name:"password",label:"password",type:"text",placeholder:"請輸入密碼",rules:"required",modelValue:t(e).password,"onUpdate:modelValue":l[1]||(l[1]=n=>t(e).password=n)},null,8,["modelValue"]),a(m,{name:"password",as:"p",class:"errorMessage mb-4"})])]),_:1}),s("button",{type:"button",onClick:c,class:"block"},"登入"),s("button",{type:"button",onClick:d,class:"block"},"註冊")])}}};export{y as default};
